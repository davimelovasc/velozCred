<% if @total_productions != nil %>
<table class="table table-sm display responsive no-wrap" width="100%" id="totalProductionTable">
  <thead>
    <tr>
      <th>Agente</th>
      <th>Cargo</th>
      <th>Regional</th>
      <th>Ano/Mês</th>
      <th>Segmento</th>
      <th>Produção</th>
      <th>Atingimento %</th>
      <th>Remuneração</th>
      <th>Remuneração %</th>
    </tr>
  </thead>
  <tbody>
    <% @total_productions.each do |t| %>
    <tr>
      <td><%= t.agent_aux.name %></td>
      <td><%= t.agent_aux.role %></td>
      <td><%= t.agent_aux.regional.name %></td>
      <td class="year_month"><%= t.year_month.year_month %></td>
      <td><%= t.segment.segment %></td>
      <td class="real"><%= t.production_value %></td>
      <td class="percent"><%= t.goal_percent %></td>
      <td class="real"><%= t.remuneration %></td>
      <td class="percent"><%= t.remunaration_percent %></td>
    </tr>
    <% end %>

  </tbody>
</table>

<script type="text/javascript">
$('#totalProductionTable').DataTable({
  'responsive': true,
  'paging': false,
  'info': false,
  'searching': true,
  'scrollY': '79.2vh',
  'scrollCollapse': true,
  "ordering": true,
  "language": {
    "sEmptyTable": "Nenhum registro encontrado",
    "sInfo": "Mostrando de _START_ até _END_ de _TOTAL_ registros",
    "sInfoEmpty": "Mostrando 0 até 0 de 0 registros",
    "sInfoFiltered": "(Filtrados de _MAX_ registros)",
    "sInfoPostFix": "",
    "sInfoThousands": ".",
    "sLengthMenu": "_MENU_ resultados por página",
    "sLoadingRecords": "Carregando...",
    "sProcessing": "Processando...",
    "sZeroRecords": "Nenhum registro encontrado",
    "search": "_INPUT_",
    "searchPlaceholder": "Pesquisar...",
    "oPaginate": {
      "sNext": "Próximo",
      "sPrevious": "Anterior",
      "sFirst": "Primeiro",
      "sLast": "Último"
    },
    "oAria": {
      "sSortAscending": ": Ordenar colunas de forma ascendente",
      "sSortDescending": ": Ordenar colunas de forma descendente"
    }
  }


});
</script>

<% elsif  @daily_productions != nil %>
<% cont = 0 %>
<table class="table table-lg" width="100%" id="dailyProductionTable">
  <thead>
    <tr>
      <th>Agente</th>
      <th>Cargo</th>
      <th>Regional</th>
      <% @calendar.attributes.each do |key, val| %>
      <% next if key == "id" %>
      <% break if val.nil? %>
      <th><%= val %> </th>
      <% cont += 1 %>
      <% end %>
    </tr>
  </thead>
  <tbody>
    <% contAux = cont %>
    <% @daily_productions.each do |t| %>
    <% if t.agent_aux.name == "TOTAL" %>
     <% next %>
    <% end %>

    <tr>
      <td><%= t.agent_aux.name %></td>
      <td><%= t.agent_aux.role %></td>
      <td><%= t.agent_aux.regional.name %></td>

      <% if cont > 0 %><td class="real"><%= t.d_one %></td><% end %><% cont -= 1 %>
      <% if cont > 0 %><td class="real"><%= t.d_two %></td><% end %><% cont -= 1 %>
      <% if cont > 0 %><td class="real"><%= t.d_three %></td><% end %><% cont -= 1 %>
      <% if cont > 0 %><td class="real"><%= t.d_four %></td><% end %><% cont -= 1 %>
      <% if cont > 0 %><td class="real"><%= t.d_five %></td><% end %><% cont -= 1 %>
      <% if cont > 0 %><td class="real"><%= t.d_six %></td><% end %><% cont -= 1 %>
      <% if cont > 0 %><td class="real"><%= t.d_seven %></td><% end %><% cont -= 1 %>
      <% if cont > 0 %><td class="real"><%= t.d_eight %></td><% end %><% cont -= 1 %>
      <% if cont > 0 %><td class="real"><%= t.d_nine %></td><% end %><% cont -= 1 %>
      <% if cont > 0 %><td class="real"><%= t.d_ten %></td><% end %><% cont -= 1 %>
      <% if cont > 0 %><td class="real"><%= t.d_eleven %></td><% end %><% cont -= 1 %>
      <% if cont > 0 %><td class="real"><%= t.d_twelve %></td><% end %><% cont -= 1 %>
      <% if cont > 0 %><td class="real"><%= t.d_thirteen %></td><% end %><% cont -= 1 %>
      <% if cont > 0 %><td class="real"><%= t.d_fourteen %></td><% end %><% cont -= 1 %>
      <% if cont > 0 %><td class="real"><%= t.d_fiveteen %></td><% end %><% cont -= 1 %>
      <% if cont > 0 %><td class="real"><%= t.d_sixteen %></td><% end %><% cont -= 1 %>
      <% if cont > 0 %><td class="real"><%= t.d_seventeen %></td><% end %><% cont -= 1 %>
      <% if cont > 0 %><td class="real"><%= t.d_eighteen %></td><% end %><% cont -= 1 %>
      <% if cont > 0 %><td class="real"><%= t.d_nineteen %></td><% end %><% cont -= 1 %>
      <% if cont > 0 %><td class="real"><%= t.d_twenty %></td><% end %><% cont -= 1 %>
      <% if cont > 0 %><td class="real"><%= t.d_twentyone %></td><% end %><% cont -= 1 %>
      <% if cont > 0 %><td class="real"><%= t.d_twentytwo %></td><% end %><% cont -= 1 %>
      <% if cont > 0 %><td class="real"><%= t.d_twentythree %></td><% end %><% cont -= 1 %>

      <% cont = contAux %>

    </tr>
    <% end %>
  </tbody>
</table>
<script type="text/javascript">
$('#dailyProductionTable').DataTable({
  'responsive': true,
  'paging': false,
  'info': false,
  'searching': true,
  'scrollY': '79.2vh',
  'scrollCollapse': true,
  "ordering": true,
  "language": {
    "sEmptyTable": "Nenhum registro encontrado",
    "sInfo": "Mostrando de _START_ até _END_ de _TOTAL_ registros",
    "sInfoEmpty": "Mostrando 0 até 0 de 0 registros",
    "sInfoFiltered": "(Filtrados de _MAX_ registros)",
    "sInfoPostFix": "",
    "sInfoThousands": ".",
    "sLengthMenu": "_MENU_ resultados por página",
    "sLoadingRecords": "Carregando...",
    "sProcessing": "Processando...",
    "sZeroRecords": "Nenhum registro encontrado",
    "search": "_INPUT_",
    "searchPlaceholder": "Pesquisar...",
    "oPaginate": {
      "sNext": "Próximo",
      "sPrevious": "Anterior",
      "sFirst": "Primeiro",
      "sLast": "Último"
    },
    "oAria": {
      "sSortAscending": ": Ordenar colunas de forma ascendente",
      "sSortDescending": ": Ordenar colunas de forma descendente"
    }
  }


});
</script>


<% end %>
